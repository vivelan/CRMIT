<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>58.0</apiVersion>
    <assignments>
        <name>ProductionKeySummary_Assignment</name>
        <label>ProductionKeySummary Assignment</label>
        <locationX>176</locationX>
        <locationY>287</locationY>
        <assignmentItems>
            <assignToReference>$Record.ProductionKeySummary__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Productionkeysummary</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <environments>Default</environments>
    <formulas>
        <name>Productionkeysummary</name>
        <dataType>String</dataType>
        <expression>if(TEXT({!$Record.TargetProduct__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.TargetProduct__c}))&amp;if(TEXT({!$Record.Origin__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.Origin__c}))&amp;if(TEXT({!$Record.STWCastingFormat__c})==&quot;&quot;,&quot;---&quot;,if(LEN(TEXT({!$Record.STWCastingFormat__c}))==3,TEXT({!$Record.STWCastingFormat__c}),if(LEN(TEXT({!$Record.STWCastingFormat__c}))==2,&quot;-&quot;&amp;TEXT({!$Record.STWCastingFormat__c}),&quot;--&quot;&amp;TEXT({!$Record.STWCastingFormat__c}))))&amp;if(TEXT({!$Record.Degassing__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.Degassing__c}))&amp;if(TEXT({!$Record.CRule__c})==&quot;&quot;,&quot;--&quot;,if(LEN(TEXT({!$Record.CRule__c}))==2,TEXT({!$Record.CRule__c}),&quot;-&quot;&amp;TEXT({!$Record.CRule__c})))&amp;if(TEXT({!$Record.SteelMillTesting__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.SteelMillTesting__c}))&amp;if(TEXT({!$Record.Sampling__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.Sampling__c}))&amp;if(TEXT({!$Record.CheckTreatment__c})==&quot;&quot;,&quot;----&quot;,if(LEN(TEXT({!$Record.CheckTreatment__c}))==4,TEXT({!$Record.CheckTreatment__c}),if(LEN(TEXT({!$Record.CheckTreatment__c}))==3,&quot;-&quot;&amp;TEXT({!$Record.CheckTreatment__c}),if(LEN(TEXT({!$Record.CheckTreatment__c}))==2,&quot;--&quot;&amp;TEXT({!$Record.CheckTreatment__c}),&quot;---&quot;&amp;TEXT({!$Record.CheckTreatment__c})))))&amp;if(TEXT({!$Record.PrimRollingHomogenize__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.PrimRollingHomogenize__c}))&amp;if(TEXT({!$Record.PrimRollingInputformat__c})==&quot;&quot;,&quot;---&quot;,if(LEN(TEXT({!$Record.PrimRollingInputformat__c}))==3,TEXT({!$Record.PrimRollingInputformat__c}),if(LEN(TEXT({!$Record.PrimRollingInputformat__c}))==2,&quot;-&quot;&amp;TEXT({!$Record.PrimRollingInputformat__c}),&quot;--&quot;&amp;TEXT({!$Record.PrimRollingInputformat__c}))))&amp;if(TEXT({!$Record.HZVSampletest__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.HZVSampletest__c}))&amp;if(TEXT({!$Record.USHTesting__c})==&quot;&quot;,&quot;--&quot;,if(LEN(TEXT({!$Record.USHTesting__c}))==2,TEXT({!$Record.USHTesting__c}),&quot;-&quot;&amp;TEXT({!$Record.USHTesting__c})))&amp;if(TEXT({!$Record.HZVCheckTreatment__c})==&quot;&quot;,&quot;----&quot;,if(LEN(TEXT({!$Record.HZVCheckTreatment__c}))==4,TEXT({!$Record.HZVCheckTreatment__c}),if(LEN(TEXT({!$Record.HZVCheckTreatment__c}))==3,&quot;-&quot;&amp;TEXT({!$Record.HZVCheckTreatment__c}),if(LEN(TEXT({!$Record.HZVCheckTreatment__c}))==2,&quot;--&quot;&amp;TEXT({!$Record.HZVCheckTreatment__c}),&quot;---&quot;&amp;TEXT({!$Record.HZVCheckTreatment__c})))))&amp;if(TEXT({!$Record.HZVAnnealing__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.HZVAnnealing__c}))&amp;if(TEXT({!$Record.Homogenize__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.Homogenize__c}))&amp;if(TEXT({!$Record.ProcessingbeforeHT__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.ProcessingbeforeHT__c}))&amp;if(TEXT({!$Record.HeatTreatment__c})==&quot;&quot;,&quot;--&quot;,if(LEN(TEXT({!$Record.HeatTreatment__c}))==2,TEXT({!$Record.HeatTreatment__c}),&quot;-&quot;&amp;TEXT({!$Record.HeatTreatment__c})))&amp;if(TEXT({!$Record.SurfaceTreatment__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.SurfaceTreatment__c}))&amp;if(TEXT({!$Record.MultipleStraightening__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.MultipleStraightening__c}))&amp;if(TEXT({!$Record.Peelingbarwirerod__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.Peelingbarwirerod__c}))&amp;if(TEXT({!$Record.WSAin__c})==&quot;&quot;,&quot;--&quot;,if(LEN(TEXT({!$Record.WSAin__c}))==2,TEXT({!$Record.WSAin__c}),&quot;-&quot;&amp;TEXT({!$Record.WSAin__c})))&amp;if(TEXT({!$Record.EndProcessing__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.EndProcessing__c}))&amp;if(TEXT({!$Record.EndProcessingSides__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.EndProcessingSides__c}))&amp;if(TEXT({!$Record.Surfacedefectinspec__c})==&quot;&quot;,&quot;--&quot;,if(LEN(TEXT({!$Record.Surfacedefectinspec__c}))==2,TEXT({!$Record.Surfacedefectinspec__c}),&quot;-&quot;&amp;TEXT({!$Record.Surfacedefectinspec__c})))&amp;if(TEXT({!$Record.USInspection__c})==&quot;&quot;,&quot;---&quot;,if(LEN(TEXT({!$Record.USInspection__c}))==3,TEXT({!$Record.USInspection__c}),if(LEN(TEXT({!$Record.USInspection__c}))==2,&quot;-&quot;&amp;TEXT({!$Record.USInspection__c}),&quot;--&quot;&amp;TEXT({!$Record.USInspection__c}))))&amp;if(TEXT({!$Record.SpecialInspections__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.SpecialInspections__c}))&amp;if(TEXT({!$Record.TestingFinishedMaterial__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.TestingFinishedMaterial__c}))&amp;if(TEXT({!$Record.Finishing__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.Finishing__c}))&amp;if(TEXT({!$Record.Packaging__c})==&quot;&quot;,&quot;-&quot;,TEXT({!$Record.Packaging__c}))</expression>
    </formulas>
    <interviewLabel>LvPositionProduct {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Update LVPosition ProductionKey Summary</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <start>
        <locationX>50</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>ProductionKeySummary_Assignment</targetReference>
        </connector>
        <object>LVPostion__c</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordBeforeSave</triggerType>
    </start>
    <status>Active</status>
    <variables>
        <name>CountofLVPosition</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>CurrentRecordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>EntityDefinitionId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>LvpositionCollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>LVPostion__c</objectType>
    </variables>
    <variables>
        <name>ProductionkeyApiCollection</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
</Flow>
